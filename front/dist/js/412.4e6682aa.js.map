{"version":3,"file":"js/412.4e6682aa.js","mappings":"ibAiCAA,EAAAA,EAAAA,KAAU,KACRC,IAEAC,GAAM,IAER,MAAMC,GAAYC,EAAAA,EAAAA,IAAI,MAChBC,GAASD,EAAAA,EAAAA,IAAI,MACbE,GAAQF,EAAAA,EAAAA,IAAI,CAAC,GACbG,GAASH,EAAAA,EAAAA,IAAI,CAAC,GACdH,EAAU,KACd,MAAMO,EAAaH,EAAOI,MAAMC,wBAChCJ,EAAMG,MAAME,OAASH,EAAWG,OAChCL,EAAMG,MAAMG,MAAQJ,EAAWI,MAE/BL,EAAOE,MAAQ,CACbI,WAAYL,EAAWM,KACvBC,UAAWP,EAAWQ,IAFxB,EAKId,EAAO,KACX,MAAM,MAACe,EAAD,OAAQC,EAAR,SAAgBC,EAAhB,cAA0BC,EAA1B,WAAyCC,EAAzC,aAAqDC,IAAgBC,EAAAA,EAAAA,GACzEpB,EAAUM,MACVH,EAAMG,MACNJ,EAAOI,QAGTe,EAAAA,EAAAA,KACE,IAAMC,EAAMC,QACZ,IAAMJ,MAGR,MAAMK,EAAeP,EAAcQ,KAAK,qBACxCD,EAAaE,OAAQ,EACrBF,EAAaG,SAAWC,EAAAA,IAIxB,MAAMC,EAAgB,IAAID,EAAAA,IAAwB,CAACE,IAAKN,IACxDV,EAAMiB,WAAa,IAAIH,EAAAA,IAAY,UACnCV,EAAWO,KACT,0BACCO,IACCA,EAAKlB,MAAMmB,SAASC,SAASC,GAAUA,EAAKC,SAAWP,IAEvDf,EAAMuB,IAAIL,EAAKlB,MAAf,IAEDwB,IACCC,QAAQC,IAAI,MAAOF,EAAnB,IAGJvB,EAAO0B,SAASC,EAAI,EACpB3B,EAAO0B,SAASE,EAAI,EACpB5B,EAAO0B,SAASG,EAAI,EAEpB9B,EAAMuB,IAAItB,GAGV,MAAM8B,EAAW,IAAIC,EAAAA,EAAc/B,EAAQf,EAAUM,OACrDuC,EAASE,eAAgB,EACzBF,EAASG,cAAgBC,KAAKC,GAAK,IACnClC,EAASmC,eAAiBvB,EAAAA,IAM1B,MAAMwB,EAAO,KAEXP,EAASQ,SAGTrC,EAASsC,OAAOxC,EAAOC,GAEvBwC,OAAOC,sBAAsBJ,EAA7B,EAGFA,GAAM,E,2KCvGR,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,yECEA,MAAMC,GAAQC,EAAAA,EAAAA,MACRpC,GAAQqC,EAAAA,EAAAA,KAAS,IAAMF,EAAMG,MAAMC,Y,iGCLzC,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue-threejs/./src/components/three/brother.vue","webpack://vue-threejs/./src/components/three/brother.vue?3981","webpack://vue-threejs/./src/views/main/threeBrother/threeBrother.vue","webpack://vue-threejs/./src/views/main/threeBrother/threeBrother.vue?a680"],"sourcesContent":["<template>\n  <div class=\"canvas-box\" ref=\"boxRef\">\n    <canvas class=\"webgl\" ref=\"canvasRef\"></canvas>\n  </div>\n</template>\n<script setup>\nimport {onMounted, ref, watch} from \"vue\";\nimport * as THREE from \"three\";\nimport {OrbitControls} from \"three/examples/jsm/controls/OrbitControls.js\";\nimport {useThree} from \"@/hooks/useThree\";\nconst props = defineProps({\n  rotation: {\n    type: Boolean,\n    default: false\n  },\n  speed: {\n    type: Number,\n    default: 0\n  },\n  rotationDir: {\n    type: Number,\n    default: 0\n  },\n  size: {\n    type: Object,\n    default: () => ({})\n  },\n  reset: {\n    type: Boolean,\n    default: false\n  }\n});\n\nonMounted(() => {\n  initBox();\n\n  init();\n});\nconst canvasRef = ref(null);\nconst boxRef = ref(null);\nconst sizes = ref({});\nconst offset = ref({});\nconst initBox = () => {\n  const boxPostion = boxRef.value.getBoundingClientRect();\n  sizes.value.height = boxPostion.height;\n  sizes.value.width = boxPostion.width;\n\n  offset.value = {\n    offsetLeft: boxPostion.left,\n    offsetTop: boxPostion.top\n  };\n};\nconst init = () => {\n  const {scene, camera, renderer, textureLoader, gltfLoader, hanldeResize} = useThree(\n    canvasRef.value,\n    sizes.value,\n    boxRef.value\n  );\n\n  watch(\n    () => props.reset,\n    () => hanldeResize()\n  );\n\n  const bakedTexture = textureLoader.load(\"model/texxxxx.jpg\");\n  bakedTexture.flipY = false;\n  bakedTexture.encoding = THREE.sRGBEncoding;\n\n  //纹理\n\n  const bakedMaterial = new THREE.MeshBasicMaterial({map: bakedTexture});\n  scene.background = new THREE.Color(0xbfe3dd);\n  gltfLoader.load(\n    \"model/threeBrather.glb\",\n    (gltf) => {\n      gltf.scene.children.forEach((item) => (item.material = bakedMaterial));\n\n      scene.add(gltf.scene);\n    },\n    (XHR) => {\n      console.log(\"XHR\", XHR);\n    }\n  );\n  camera.position.x = 0;\n  camera.position.y = 0;\n  camera.position.z = 5;\n\n  scene.add(camera);\n\n  // Controls\n  const controls = new OrbitControls(camera, canvasRef.value);\n  controls.enableDamping = true;\n  controls.maxPolarAngle = Math.PI / 2.2;\n  renderer.outputEncoding = THREE.sRGBEncoding;\n\n  /**\n   * Animate\n   */\n\n  const tick = () => {\n    // Update controls\n    controls.update();\n\n    // Render\n    renderer.render(scene, camera);\n    // Call tick again on the next frame\n    window.requestAnimationFrame(tick);\n  };\n\n  tick();\n};\n</script>\n<style lang=\"scss\" scoped>\n.canvas-box {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import script from \"./brother.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./brother.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./brother.vue?vue&type=style&index=0&id=399a6ead&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\vue-threejs\\\\vue-threejs\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-399a6ead\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"windDemo\">\r\n    <Brother :reset=\"reset\"></Brother>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport Brother from \"@/components/three/brother.vue\";\r\nimport {useStore} from \"vuex\";\r\nimport {computed} from \"vue\";\r\n\r\nconst store = useStore();\r\nconst reset = computed(() => store.state.collapsed);\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.windDemo {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n</style>\r\n","import script from \"./threeBrother.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./threeBrother.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./threeBrother.vue?vue&type=style&index=0&id=3355835f&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\vue-threejs\\\\vue-threejs\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3355835f\"]])\n\nexport default __exports__"],"names":["onMounted","initBox","init","canvasRef","ref","boxRef","sizes","offset","boxPostion","value","getBoundingClientRect","height","width","offsetLeft","left","offsetTop","top","scene","camera","renderer","textureLoader","gltfLoader","hanldeResize","useThree","watch","props","reset","bakedTexture","load","flipY","encoding","THREE","bakedMaterial","map","background","gltf","children","forEach","item","material","add","XHR","console","log","position","x","y","z","controls","OrbitControls","enableDamping","maxPolarAngle","Math","PI","outputEncoding","tick","update","render","window","requestAnimationFrame","__exports__","store","useStore","computed","state","collapsed"],"sourceRoot":""}